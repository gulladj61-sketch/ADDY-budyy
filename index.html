<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>ADDY â€” Frontend</title>
<style>
  body{font-family:Inter,system-ui,'Poppins',sans-serif;background:#071722;color:#eaffff;margin:0}
  .wrap{max-width:1000px;margin:18px auto;padding:14px}
  .top{display:flex;align-items:center;gap:12px}
  .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(90deg,#00e6ff,#00bcd4);display:flex;align-items:center;justify-content:center;color:#012;font-weight:800}
  .slider{display:flex;gap:8px;overflow:auto;padding:10px;margin-top:12px}
  .tool{padding:8px 12px;border-radius:8px;background:rgba(255,255,255,0.02);cursor:pointer}
  .tool.active{background:linear-gradient(90deg,#002,#00e6ff);color:#012}
  .chat{margin-top:12px;border-radius:10px;padding:12px;background:linear-gradient(180deg,#07121a,#061722);height:60vh;display:flex;flex-direction:column}
  .messages{flex:1;overflow:auto}
  .bubble{margin:8px 0;padding:10px;border-radius:8px;background:#0b2b2f}
  .bubble.me{background:#00e6ff;color:#012}
  .controls{display:flex;gap:8px;margin-top:10px}
  input[type=text]{flex:1;padding:10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:#eaffff}
  button{background:#00e6ff;color:#012;padding:10px 12px;border-radius:8px;border:0;cursor:pointer}
</style>
</head>
<body>
  <div class="wrap">
    <div class="top"><div class="logo">AI</div><div><h2 style="margin:0">ADDY â€” Frontend</h2><div style="color:#9fd8ea;font-size:13px">Connects to /api/process on your proxy server</div></div></div>

    <div class="slider" id="slider"></div>

    <div class="chat">
      <div class="messages" id="messages"></div>
      <div class="controls">
        <input id="prompt" type="text" placeholder="Type prompt...">
        <button id="send">Send</button>
        <label style="background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:8px;cursor:pointer">Img<input id="img" type="file" accept="image/*" style="display:none"></label>
        <label style="background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:8px;cursor:pointer">Audio<input id="audio" type="file" accept="audio/*" style="display:none"></label>
      </div>
    </div>
  </div>

<script>
/* ====== CONFIG: set your API base URL ======
 If you are hosting server on Render, replace <YOUR_RENDER_URL> with it:
  e.g. const API_BASE = 'https://addy-budyy.onrender.com/api/process';
 If you are serving frontend from same server, you can use '/api/process'
*/
const API_BASE = '/api/process'; // <- replace if needed

const tools = ['Chat','Image Enhance','Image Gen','Background Remove','OCR','Translator','Voice Enhance','Voice Transcribe','Text Summarize','Text Rewrite','TTS','Meme Maker','Code Assist','Upscale','Face Enhance','Video Enhance','PDF Summarize','Semantic Search','Batch Processor','Export Package'];
const slider = document.getElementById('slider');
const messages = document.getElementById('messages');
const promptEl = document.getElementById('prompt');
const send = document.getElementById('send');
const imgInput = document.getElementById('img');
const audioInput = document.getElementById('audio');

let active = tools[0];
tools.forEach(t=>{
  const el = document.createElement('div'); el.className='tool'; el.innerText = t;
  el.onclick = ()=>{ document.querySelectorAll('.tool').forEach(x=>x.classList.remove('active')); el.classList.add('active'); active=t; appendSystem('Selected: '+t); };
  slider.appendChild(el);
});
document.querySelectorAll('.tool')[0].classList.add('active');

function appendSystem(text){ const b=document.createElement('div'); b.className='bubble'; b.innerText = text; messages.appendChild(b); messages.scrollTop = messages.scrollHeight; }
function appendUser(text){ const b=document.createElement('div'); b.className='bubble me'; b.innerText = text; messages.appendChild(b); messages.scrollTop = messages.scrollHeight; }
function appendHTML(html){ const b=document.createElement('div'); b.className='bubble'; b.innerHTML = html; messages.appendChild(b); messages.scrollTop = messages.scrollHeight; }

send.addEventListener('click', async ()=>{
  const txt = promptEl.value.trim();
  if(!txt) return;
  appendUser(txt);
  promptEl.value = '';
  appendSystem('Sending to server...');
  const fd = new FormData();
  fd.append('tool', active);
  fd.append('prompt', txt);
  if(imgInput.files[0]) fd.append('file', imgInput.files[0]);
  if(audioInput.files[0]) fd.append('file', audioInput.files[0]);

  try{
    const r = await fetch(API_BASE, { method: 'POST', body: fd });
    const j = await r.json();
    if(j.error) appendHTML('Error: ' + j.error);
    else {
      if(j.text) appendHTML(j.text.replace(/\n/g,'<br>'));
      if(j.file && j.file.data){
        // if data URL or blob URL
        if(typeof j.file.data === 'string' && j.file.data.startsWith('data:image')) {
          appendHTML(`<img src="${j.file.data}" style="max-width:100%"><div><a href="${j.file.data}" download="${j.file.name || 'file'}">Download</a></div>`);
        } else {
          appendHTML('Result file available.');
        }
      }
    }
  }catch(err){
    appendHTML('Request failed: '+err.message);
  }
});

imgInput.addEventListener('change', ()=>{ if(imgInput.files[0]) appendSystem('Image attached: '+imgInput.files[0].name); });
audioInput.addEventListener('change', ()=>{ if(audioInput.files[0]) appendSystem('Audio attached: '+audioInput.files[0].name); });

// enter -> send
promptEl.addEventListener('keydown', e=>{ if(e.key==='Enter'){ e.preventDefault(); send.click(); } });
</script>
</body></html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ADDY-Buddy AI Hub</title>
  <style>
    body {
      background: #0b0b0b;
      color: #00ffff;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      padding: 40px;
    }
    h1 {
      font-size: 2.5em;
      color: #0ff;
      text-shadow: 0 0 10px #0ff;
    }
    .card {
      background: #111;
      padding: 20px;
      border-radius: 20px;
      margin: 20px auto;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 0 10px #0ff5;
    }
    button {
      background: #0ff;
      border: none;
      color: #000;
      padding: 10px 25px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
    }
    button:hover { background: #fff; }
    input {
      background: #222;
      border: 1px solid #0ff3;
      border-radius: 8px;
      padding: 8px;
      color: #0ff;
      width: 80%;
      margin-top: 10px;
    }
    #output {
      margin-top: 20px;
      font-size: 1.1em;
      color: #fff;
      text-shadow: 0 0 6px #0ff;
    }
  </style>
</head>
<body>
  <h1>ðŸ¤– ADDY-Buddy Universal AI Tools</h1>

  <div class="card">
    <h3>AI Chat Assistant</h3>
    <input type="text" id="userInput" placeholder="Ask something..." />
    <button onclick="sendToBackend()">Send</button>
    <div id="output"></div>
  </div>

  <script>
    async function sendToBackend() {
      const input = document.getElementById("userInput").value.trim();
      if (!input) return alert("Please type something first!");

      document.getElementById("output").innerText = "Thinking...";

      try {
        const response = await fetch("https://addy-budyy.onrender.com/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: input })
        });
        const data = await response.json();
        document.getElementById("output").innerText = data.reply || "No response received.";
      } catch (error) {
        document.getElementById("output").innerText = "Server not responding yet ðŸ˜ž";
      }
    }
  </script>
</body>
</html>
