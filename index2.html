<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADDY Buddy | Anime AI Chat</title>

<!-- Fonts & Icons -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root {
  --primary: #00fff7;
  --secondary: #00b3ff;
  --bg-dark: #010a13;
  --glass: rgba(255, 255, 255, 0.08);
}
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }

body {
  background: var(--bg-dark) url('https://i.imgur.com/EsdMUMT.jpeg') no-repeat center center fixed;
  background-size: cover;
  color: white;
  min-height: 100vh;
  overflow-x: hidden;
}

/* Overlay */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
}

/* Container */
.container {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
  text-align: center;
}

/* Header */
h1 {
  font-size: 2.2rem;
  color: var(--primary);
  text-shadow: 0 0 10px var(--secondary);
  animation: glow 2s infinite alternate;
}

@keyframes glow {
  from { text-shadow: 0 0 10px var(--primary); }
  to { text-shadow: 0 0 20px var(--secondary), 0 0 40px var(--primary); }
}

/* Chat box */
.chat-box {
  margin-top: 30px;
  background: var(--glass);
  padding: 20px;
  border-radius: 20px;
  width: 90%;
  max-width: 600px;
  box-shadow: 0 0 20px rgba(0,255,255,0.2);
  backdrop-filter: blur(10px);
}

/* Messages */
#output {
  text-align: left;
  height: 260px;
  overflow-y: auto;
  margin-bottom: 15px;
  background: rgba(0,0,0,0.3);
  border-radius: 10px;
  padding: 10px;
}

.msg {
  margin: 10px 0;
  padding: 10px 15px;
  border-radius: 10px;
  max-width: 80%;
}

.user { background: rgba(0,255,247,0.1); align-self: flex-end; }
.bot { background: rgba(255,255,255,0.08); }

/* Input area */
textarea {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: none;
  background: rgba(255,255,255,0.1);
  color: white;
  resize: none;
  height: 60px;
}

button {
  margin-top: 10px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  border: none;
  color: #000;
  font-weight: 700;
  padding: 12px 20px;
  border-radius: 12px;
  cursor: pointer;
  transition: 0.2s;
  width: 100%;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 20px var(--primary);
}

footer {
  margin-top: 25px;
  color: rgba(255,255,255,0.6);
  font-size: 13px;
}
</style>
</head>
<body>

<div class="overlay"></div>

<div class="container">
  <h1>ü§ñ ADDY Buddy ‚Äî AI Chat</h1>

  <div class="chat-box">
    <div id="output">
      <div class="msg bot">Welcome to ADDY Buddy! Type your message below üëá</div>
    </div>
    <textarea id="prompt" placeholder="Type your message..."></textarea>
    <button onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i> Send</button>
  </div>

<footer>¬© 2025 ADDY Buddy ‚Äì Built with üíô</footer>

<script>
const API_BASE = "https://addy-budyy.onrender.com"; // <-- yaha apna backend URL daal

function appendMessage(text, sender='bot') {
  const box = document.getElementById('output');
  const msg = document.createElement('div');
  msg.className = `msg ${sender}`;
  msg.textContent = text;
  box.appendChild(msg);
  box.scrollTop = box.scrollHeight;
}

async function sendMessage() {
  const input = document.getElementById('prompt');
  const text = input.value.trim();
  if (!text) return;

  appendMessage(text, 'user');
  input.value = '';
  appendMessage('‚è≥ Processing...', 'bot');

  try {
    const res = await fetch(`${API_BASE}/api/chat`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: text })
    });

    if (!res.ok) throw new Error('Server Error');
    const data = await res.json();
    appendMessage(data.reply || '‚ö†Ô∏è Unexpected response from server', 'bot');
  } catch (err) {
    appendMessage(`‚ùå ${err.message}`, 'bot');
  }
}
</script>
<script>

function appendMessage(text, sender='bot') {
  const box = document.getElementById('output');
  const msg = document.createElement('div');
  msg.className = `msg ${sender}`;
  msg.textContent = text;
  box.appendChild(msg);
  box.scrollTop = box.scrollHeight;
}

async function sendMessage() {
  const input = document.getElementById('prompt');
  const text = input.value.trim();
  if(!text) return;

  appendMessage(text, 'user');
  input.value = '';
  appendMessage('‚åõ Processing...', 'bot');

  try {
    const res = await fetch(`${API_BASE}/api/chat`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: text })
    });

    if(!res.ok) throw new Error('Server Error');
    const data = await res.json();
    appendMessage(data.reply || '‚ö†Ô∏è Unexpected response from server', 'bot');
  } catch (err) {
    appendMessage('‚ùå ' + err.message, 'bot');
  }
}
</script>
</body>
</html>
