<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ADDY AI Hub â€” Frontend Demo</title>
<meta name="description" content="ADDY AI Hub â€” Frontend-only demo. 20 simulated AI tools, browser TTS & mic, premium UI."/>
<style>
  :root{
    --bg0:#040617; --bg1:#07111a;
    --muted:#99a7b8;
    --glass:rgba(255,255,255,0.04);
    --accent1:#7c3aed; --accent2:#06b6d4;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,-apple-system;background:linear-gradient(180deg,var(--bg0),var(--bg1));color:#e8f6ff;-webkit-font-smoothing:antialiased}
  .wrap{max-width:1150px;margin:20px auto;padding:18px}
  header{display:flex;justify-content:space-between;align-items:center;gap:12px}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:900;color:#021018}
  h1{margin:0;font-size:20px}
  .sub{font-size:13px;color:var(--muted)}
  .layout{display:grid;grid-template-columns:1fr 380px;gap:16px;margin-top:16px}
  @media(max-width:980px){.layout{grid-template-columns:1fr}}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border-radius:12px;padding:14px;border:1px solid var(--glass)}
  .chat{display:flex;flex-direction:column;height:72vh;gap:12px}
  .messages{flex:1;overflow:auto;padding:12px;border-radius:10px;background:rgba(0,0,0,0.26);border:1px solid rgba(255,255,255,0.02)}
  .msg{margin:8px 0;max-width:82%}
  .who{font-size:12px;color:var(--muted);margin-bottom:6px}
  .bubble{padding:10px 12px;border-radius:12px;display:inline-block}
  .bubble.user{background:linear-gradient(90deg,#00d0a3,#7ef2cc);color:#021613;font-weight:800}
  .bubble.bot{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
  .controls{display:flex;gap:8px;align-items:center}
  input[type="text"], textarea{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
  .btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;padding:9px 14px;border-radius:10px;color:#021018;font-weight:800;cursor:pointer}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:8px;border-radius:8px;cursor:pointer}
  .tools{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px;margin-top:12px}
  .tool{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:rgba(255,255,255,0.01);cursor:pointer;text-align:center}
  .small{font-size:13px;color:var(--muted)}
  footer{margin-top:16px;color:var(--muted);font-size:13px;text-align:center}
  .stats{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .stat{background:rgba(255,255,255,0.02);padding:8px;border-radius:8px;font-weight:700}
  .modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:60}
  .modal-card{width:94%;max-width:720px;background:linear-gradient(180deg,#071018,#001217);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .preview-image{max-width:100%;border-radius:8px;margin-top:8px;border:1px solid rgba(255,255,255,0.03)}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo">ADD</div>
      <div>
        <h1>ADDY AI Hub â€” Demo (Frontend)</h1>
        <div class="sub">No proxy â€¢ No keys â€¢ 20 simulated tools â€¢ Browser TTS + Mic</div>
      </div>
    </div>
    <div>
      <div class="small">Owner: <strong id="ownerLabel">Addy</strong></div>
    </div>
  </header>

  <div class="layout">
    <main class="card chat">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:800">Chat â€” Addy</div>
        <div class="small">Mode: <strong id="mode">Demo (No-backend)</strong></div>
      </div>

      <div class="messages" id="messages" aria-live="polite"></div>

      <div class="controls">
        <input id="chatInput" placeholder="Type a message and press Enter or Send..." />
        <button id="sendBtn" class="btn">Send</button>
        <button id="micBtn" class="ghost">ðŸŽ¤</button>
      </div>

      <div style="margin-top:10px">
        <div class="small">Tools â€” click to open</div>
        <div class="tools" id="tools"></div>
      </div>
    </main>

    <aside class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:800">Controls & Stats</div>
        <div class="small">Session</div>
      </div>

      <div style="margin-top:10px">
        <label class="small">Owner</label>
        <input id="owner" value="Addy" style="width:100%;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit;margin-top:6px" />
      </div>

      <div style="margin-top:12px">
        <div class="small">Usage</div>
        <div class="stats" id="stats">
          <div class="stat">Chats: <span id="statChats">0</span></div>
          <div class="stat">Tools used: <span id="statTools">0</span></div>
          <div class="stat">Visitors est.: <span id="statVisitors">1,245</span></div>
        </div>
      </div>

      <div style="margin-top:12px">
        <div style="display:flex;gap:8px">
          <button id="clearBtn" class="ghost">Clear Chat</button>
          <button id="downloadBtn" class="btn">Download README</button>
        </div>
      </div>

      <div style="margin-top:12px" class="small">
        To enable real AI later, add a proxy and API keys. I will give one-line swap instructions.
      </div>
    </aside>
  </div>

  <footer>Â© <span id="year"></span> ADDY AI Hub â€” Demo (no keys)</footer>
</div>

<!-- Modal -->
<div id="modal" class="modal" role="dialog" aria-hidden="true">
  <div class="modal-card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:800" id="modalTitle">Tool</div>
      <button id="modalClose" class="ghost">Close</button>
    </div>
    <div style="margin-top:8px">
      <textarea id="modalInput" rows="6" style="width:100%;padding:10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit"></textarea>
      <div class="small" id="modalExample" style="margin-top:6px;color:var(--muted)"></div>
    </div>
    <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:10px">
      <button id="modalRun" class="btn">Run</button>
      <button id="modalSim" class="ghost">Simulate</button>
    </div>
    <div id="modalOutput" style="margin-top:12px;display:none"></div>
  </div>
</div>

<script>
/* Frontend-only ADDY demo
   - No external API calls.
   - Simulated outputs designed to feel realistic.
*/

/* Config */
const TOOLS = [
  {id:'writer', label:'AI Writer'},
  {id:'code', label:'Code Helper'},
  {id:'prompt', label:'Prompt Maker'},
  {id:'translate', label:'Translator'},
  {id:'imageprompt', label:'Image Prompt'},
  {id:'summarize', label:'Summarizer'},
  {id:'seo', label:'SEO Title'},
  {id:'ideas', label:'Business Ideas'},
  {id:'story', label:'Story Maker'},
  {id:'study', label:'Study Helper'},
  {id:'email', label:'Email Writer'},
  {id:'adcopy', label:'Ad Copy'},
  {id:'regex', label:'Regex Maker'},
  {id:'motivate', label:'Motivator'},
  {id:'character', label:'Character Chat'},
  {id:'support', label:'Support Reply'},
  {id:'tweet', label:'Tweet Composer'},
  {id:'longsum', label:'Long Summarizer'},
  {id:'brieftrans', label:'Translator (brief)'},
  {id:'tts', label:'Voice TTS'}
];

const messages = document.getElementById('messages');
const toolsDiv = document.getElementById('tools');
const chatInput = document.getElementById('chatInput');
const sendBtn = document.getElementById('sendBtn');
const micBtn = document.getElementById('micBtn');
const ownerInput = document.getElementById('owner');
const statChats = document.getElementById('statChats');
const statTools = document.getElementById('statTools');
const clearBtn = document.getElementById('clearBtn');
const downloadBtn = document.getElementById('downloadBtn');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalInput = document.getElementById('modalInput');
const modalExample = document.getElementById('modalExample');
const modalRun = document.getElementById('modalRun');
const modalSim = document.getElementById('modalSim');
const modalClose = document.getElementById('modalClose');
const modalOutput = document.getElementById('modalOutput');
const year = document.getElementById('year');

year.innerText = new Date().getFullYear();

/* state */
let chats = 0, toolsUsed = 0;
let owner = localStorage.getItem('addy_owner') || 'Addy';

ownerInput.value = owner;
document.getElementById('ownerLabel').innerText = owner;

/* init tools */
TOOLS.forEach(t=>{
  const b = document.createElement('div'); b.className='tool'; b.innerText=t.label;
  b.onclick = ()=> openTool(t);
  toolsDiv.appendChild(b);
});

/* initial message */
appendBot('Welcome â€” I am Addy. Try chat or any tool. (Demo simulation)');

function appendUser(text){
  const div = document.createElement('div'); div.className='msg user';
  const who = document.createElement('div'); who.className='who'; who.innerText = owner;
  const bubble = document.createElement('div'); bubble.className='bubble user'; bubble.innerText = text;
  div.appendChild(who); div.appendChild(bubble); messages.appendChild(div); messages.scrollTop = messages.scrollHeight;
}
function appendBot(text){
  const div = document.createElement('div'); div.className='msg bot';
  const who = document.createElement('div'); who.className='who'; who.innerText = 'Addy';
  const bubble = document.createElement('div'); bubble.className='bubble bot'; bubble.innerText = text;
  div.appendChild(who); div.appendChild(bubble); messages.appendChild(div); messages.scrollTop = messages.scrollHeight;
}

/* chat send */
sendBtn.onclick = sendChat;
chatInput.addEventListener('keydown', (e)=> { if(e.key==='Enter'){ e.preventDefault(); sendChat(); }});

function sendChat(){
  const t = chatInput.value.trim(); if(!t) return;
  appendUser(t); chatInput.value=''; chats++; statChats.innerText = chats;
  appendBot('Addy is thinking...');
  setTimeout(()=> {
    const r = simulateChatReply(t);
    // replace last bot thinking
    const bots = messages.querySelectorAll('.msg.bot .bubble.bot');
    if(bots && bots.length) bots[bots.length-1].innerText = r;
    else appendBot(r);
    speak(r);
  }, 600 + Math.random()*900);
}
function simulateChatReply(text){
  if(!text) return 'Kuch likh bhai, main help karunga.';
  const l = text.toLowerCase();
  if(l.includes('how') || l.includes('kaise') || l.includes('help')) return 'Simple: 1) Problem define karo 2) Break karo 3) Test karo. Chahiye example?';
  if(text.length < 40) return `Short answer: ${text.split('').reverse().join('').slice(0,80)} (sim)`;
  return `Summary: ${text.slice(0,140)}... (simulated)`;
}

/* tools modal */
let activeTool = null;
function openTool(tool){
  activeTool = tool;
  modal.style.display='flex';
  modal.setAttribute('aria-hidden','false');
  modalTitle.innerText = tool.label;
  modalInput.value = '';
  modalOutput.style.display='none'; modalOutput.innerText='';
  modalExample.innerText = toolExample(tool.id);
}
modalClose.onclick = ()=> { modal.style.display='none'; modal.setAttribute('aria-hidden','true'); }
modalRun.onclick = ()=> runTool(false);
modalSim.onclick = ()=> runTool(true);

function toolExample(id){
  switch(id){
    case 'writer': return 'Write a 120-word intro about remote work productivity.';
    case 'code': return 'Fix my JS map() returning undefined.';
    case 'translate': return 'Translate to Hindi: How to deploy on Render?';
    case 'imageprompt': return 'Cinematic portrait of a traveler in neon city.';
    default: return 'Enter input and press Run or Simulate';
  }
}

function runTool(simulateOnly){
  const prompt = modalInput.value.trim() || '[no input]';
  modalOutput.style.display='block'; modalOutput.innerText = 'Processing...';
  toolsUsed++; statTools.innerText = toolsUsed;
  setTimeout(()=>{
    let out;
    out = simulateTool(activeTool.id, prompt);
    modalOutput.innerHTML = `<pre style="white-space:pre-wrap">${escapeHtml(out)}</pre>`;
    appendBot(`${activeTool.label}: ${out}`);
    if(activeTool.id==='imageprompt'){
      // show placeholder svg
      const svg = generateSVG(prompt);
      const img = `<img src="${svg}" class="preview-image" alt="preview">`;
      modalOutput.innerHTML += '<div style="margin-top:8px">' + img + '</div>';
      document.querySelector('#chatInput').focus();
    }
    if(activeTool.id==='tts' || activeTool.id==='chat') speak(out);
  }, 600 + Math.random()*900);
}

function simulateTool(id, prompt){
  switch(id){
    case 'writer':
      return `Intro (sim): ${prompt}\n\n1) Hook\n2) Context\n3) CTA`;
    case 'code':
      return `// Simulated fix\nfunction example(a){ return Array.isArray(a)? a.map(x=>x*2): []; }`;
    case 'prompt':
      return `Prompt: A cinematic portrait of ${prompt} with dramatic lighting, ultra-detailed.`;
    case 'translate':
    case 'brieftrans':
      return `Hindi (sim): ${prompt.split('').reverse().join('')} \n(English paraphrase: ${prompt.slice(0,80)})`;
    case 'summarize':
    case 'longsum':
      const p = prompt.match(/(.{1,80})(?:\s|$)/g) || [prompt];
      return p.slice(0,4).map((s,i)=>`${i+1}. ${s.trim()}`).join('\n');
    case 'imageprompt':
      return `Image prompt generated for: ${prompt}`;
    case 'seo':
      return `${prompt} â€” Best guide to ${prompt.split(' ')[0] || 'this'}`;
    case 'email':
      return `Hi,\n\n${prompt}\n\nRegards,\n${owner}`;
    case 'adcopy':
      return `${prompt} â€” Buy now! Limited offer.`;
    case 'ideas':
      return `1) ${prompt} as a service\n2) ${prompt} marketplace\n3) niche product`;
    case 'story':
      return `Story: Once upon a time about ${prompt}... (simulated)`;
    case 'study':
      return `Explain ${prompt} in simple steps:\n1) ...\n2) ...`;
    case 'regex':
      return `Regex (sim): /${prompt.replace(/\s+/g,'.')}/g`;
    case 'support':
      return `Support reply: Thanks for reporting ${prompt}. We'll check and update.`;
    case 'tweet':
      return `Tweet: ${prompt} #${owner}`;
    case 'data':
      return `Data summary (sim): mean=42, median=40, insights: ...`;
    case 'tts':
      return `TTS ready (browser): ${prompt}`;
    case 'character':
      return `Character chat with ${prompt}: Hello, I'm ${prompt}.`;
    case 'motivate':
      return `Motivation: Keep going! Small steps daily lead to big wins.`;
    case 'brainstorm':
      return `Brainstorm for ${prompt}:\n- Idea A\n- Idea B\n- Idea C`;
    default:
      return `Simulated ${id} output for: ${prompt}`;
  }
}

/* small svg placeholder */
function generateSVG(text){
  const t = encodeURIComponent(text.slice(0,60) || 'ADDY Image');
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='700'><defs><linearGradient id='g' x1='0' x2='1'><stop offset='0' stop-color='#071126'/><stop offset='1' stop-color='#0b2b3a'/></linearGradient></defs><rect width='100%' height='100%' fill='url(#g)'/><text x='50%' y='50%' fill='#9fd6f2' font-size='36' font-family='Arial' text-anchor='middle'>${t}</text></svg>`;
  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
}

function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]); }

/* TTS (browser) */
function speak(text){
  try{
    if(!window.speechSynthesis) return;
    const u = new SpeechSynthesisUtterance(text);
    u.lang = document.getElementById('owner')?.value?.includes('Addy') ? 'en-US' : 'en-US';
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(u);
  }catch(e){ console.warn('TTS', e); }
}

/* Mic (speech to text) */
let recognition = null;
if('webkitSpeechRecognition' in window || 'SpeechRecognition' in window){
  const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
  recognition = new SR();
  recognition.lang = 'en-US';
  recognition.interimResults = false;
  recognition.onresult = (ev) => {
    chatInput.value = ev.results[0][0].transcript;
  };
  recognition.onerror = ()=> appendBot('Voice input error');
}
micBtn.onclick = ()=>{
  if(!recognition){ alert('Mic not supported'); return; }
  try{ recognition.start(); }catch(e){ appendBot('Mic start error'); }
};

/* modal enter */
modalInput.addEventListener('keydown', (e)=> {
  if(e.key==='Enter' && (e.ctrlKey || e.metaKey)) { e.preventDefault(); runTool(true); }
});

/* run from modal by Enter */
function runToolFromModal(){
  runTool(true);
}

/* wire up controls */
clearBtn.onclick = ()=> { messages.innerHTML=''; appendBot('Cleared. Ready.'); chats=0; toolsUsed=0; statChats.innerText='0'; statTools.innerText='0'; }
downloadBtn.onclick = ()=> {
  const txt = `ADDY AI Hub â€” README\nOwner: ${owner}\nDemo: frontend-only (no keys).`;
  const blob = new Blob([txt], {type:'text/plain'}); const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='README-ADDY.txt'; a.click(); URL.revokeObjectURL(url);
}
ownerInput.addEventListener('input', ()=> {
  owner = ownerInput.value || 'Addy';
  localStorage.setItem('addy_owner', owner);
  document.getElementById('ownerLabel').innerText = owner;
});

/* modal run wrapper */
function runTool(real=false){
  runTool(real?false:true);
}

/* initial attach listeners for modal buttons properly */
modalRun.addEventListener('click', ()=> runTool(false));
modalSim.addEventListener('click', ()=> runTool(true));

/* initial message */
appendBot('Welcome â€” I am Addy. Click tools or chat.');

/* focus */
chatInput.focus();
</script>
</body>
</html>
